# ITAM-Магазин

## Описание проекта

ITAM-Магазин - это веб-приложение для управления интернет-магазином, разработанное на основе современных технологий, таких как Svelte, backend с использованием REST API и аутентификацией.

Проект включает два основных интерфейса: админский и пользовательский. Администраторы могут управлять товарами, а пользователи могут просматривать товары и добавлять их в корзину. 

---

## Структура проекта

### Каталог админа

#### `AdminCatalog.svelte`

Этот компонент отвечает за отображение списка всех товаров в магазине. Основные функции включают:

- **Загрузка товаров**: При монтировании компонента происходит загрузка всех товаров через функцию `loadGoods`, а также установка фона страницы.
- **Фильтрация и сортировка**: Позволяет пользователю отфильтровать товары по категориям и сортировать их по цене (в порядке возрастания или убывания).
- **Добавление/редактирование товара**: Есть кнопка для добавления нового товара, а также возможность редактировать уже существующий, переходя на `GoodCardAdmin`.

#### Важные участки кода

- `onMount`: Загружает товары и устанавливает общий фон страницы.
- `NewGood()`: Функция для перехода на страницу добавления нового товара.
- `filteredGoods`: Реактивная переменная для фильтрации и сортировки списка товаров на основе выбранных категорий и параметров сортировки.

---

### Карточка товара админа 

#### `GoodCardAdmin.svelte`

Компонент для редактирования и добавления товара. Предоставляет интерфейс для ввода информации о товаре, включая его изображение, описание, цену и количество.

#### Важные участки кода

- `onMount`: Загружает данные о товаре при загрузке компонента. Если товар новый, то создаётся новый объект товара.
- `saveGood()`: Обработчик сохранения информации о товаре, который отправляет запросы на сервер для сохранения или обновления информации о товаре.

---

### Вход для админа

#### `AdminLogin.svelte`

Форма для аутентификации администраторов. Поддерживает механизм проверки и отправляет запрос на сервер для получения токена доступа.

#### Важные участки кода

- `handleSubmit()`: Обработчик отправки формы, который отправляет ввод пользователя на сервер для проверки аутентификационных данных.
- `superForm`: Используется для обработки форм с валидацией.

---

### Вход для пользователя

#### `UserLogin.svelte`

Форма для входа пользователей в систему. Включает функционал переключения на административный вход.

---

### Корзина пользователя 

#### `Basket.svelte`

Этот компонент отвечает за отображение всех товаров, добавленных пользователем в корзину. Он позволяет изменить количество товара, удалить его из корзины и оформить покупку.

#### Важные участки кода

- `loadGoodsToBasket()`: Загружает товары из корзины при монтировании компонента и устанавливает их в хранилище.
- `buyGoods()`: Обрабатывает покупку товаров из корзины, проверяя наличие достаточного баланса.
- `deleteGoodFromBasket()`: Удаляет товары из корзины и обновляет состояние.

---

### Каталог товаров для пользователей

#### `Catalog.svelte`

Компонент, где пользователи могут просматривать доступные товары, фильтровать и искать их.

#### Важные участки кода

- `loadGoods()`: Загружает товары и устанавливает общий фон страницы.
- `filteredGoods`: Реактивная переменная для фильтрации и сортировки всех доступных товаров.
- `OpenGood()`: Открывает детальную карточку товара при нажатии на его название.

---

### Карточка товара для пользователей 

#### `GoodCard.svelte`

Отображает детали конкретного товара, его описание, изображение и цену. Позволяет добавлять товар в корзину.

#### Важные участки кода

- `putInBasket()`: Обрабатывает добавление товара в корзину, отправляя соответствующий запрос на сервер.
- `getBalance()`: Запрашивает баланс пользователя для визуализации в карточке товара.

---

## Инфраструктура

Проект использует следующие технологии:

- **Frontend**: Svelte
- **Backend**: REST API на основе Node.js
- **Аутентификация**: Через токены с поддержкой JWT.
- **Хранилище**: Использует Svelte Store для управления состоянием приложения.

---

## Авторы

- **Frontend разработчик**: [@nomatter714](https://t.me/nomatter714)
- **Backend разработчик**: [@cvbnqq](https://t.me/cvbnqq)
- **Дизайнер**: [@takstp](https://t.me/takstp)


## Установка и запуск

1. Клонируйте репозиторий:
   ```bash
   git clone <repository-url>
   ```
2. Перейдите в директорию проекта:
   ```bash
   cd ITAM-Store
   ```
3. Установите зависимости:
   ```bash
   npm install
   ```
4. Запустите приложение:
   ```bash
   npm run dev
   ```

---

## Заключение

ITAM-Магазин - это полнофункциональное приложение для интернет-магазина с разделами для администраторов и пользователей. Оно поддерживает все основные функциональные возможности, необходимые для управления товаром и осуществления покупок.